#!/usr/bin/env node
'use strict';
const path = require('path');
const commander = require('commander');
const { createNodeClient } = require('..');
const pkg = require('../package.json');

const defaultSnake = require.resolve('../src/snakes/slither.js');

const { host, venue, snake } = commander
  .name(pkg.name)
  .version(pkg.version)
  .option('-h, --host [url]', 'Host', 'snake.cygni.se')
  .option('-v, --venue [name]', 'Venue', 'training')
  .option('-s, --snake [path]', 'Snake', path.relative(process.cwd(), defaultSnake))
  .parse(process.argv);

const snakePath = path.resolve(process.cwd(), snake);

createNodeClient({ host, venue, snakePath });
